<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Standardise an Occurrences dataset • galaxias</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Standardise an Occurrences dataset">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">galaxias</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/quick_start_guide.html">Quick start guide</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/AtlasOfLivingAustralia/galaxias/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<script src="occurrences-example_files/core-js-2.5.3/shim.min.js"></script><script src="occurrences-example_files/react-18.2.0/react.min.js"></script><script src="occurrences-example_files/react-18.2.0/react-dom.min.js"></script><script src="occurrences-example_files/reactwidget-2.0.0/react-tools.js"></script><script src="occurrences-example_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="occurrences-example_files/reactable-0.4.4/reactable.css" rel="stylesheet">
<script src="occurrences-example_files/reactable-binding-0.4.4/reactable.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Standardise an Occurrences dataset</h1>
                        <h4 data-toc-skip class="author">Dax Kellie
&amp; Martin Westgate</h4>
            
            <h4 data-toc-skip class="date">2025-02-04</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/AtlasOfLivingAustralia/galaxias/blob/main/vignettes/occurrences-example.Rmd" class="external-link"><code>vignettes/occurrences-example.Rmd</code></a></small>
      <div class="d-none name"><code>occurrences-example.Rmd</code></div>
    </div>

    
    
<p>Data of species observations is referred to as <em>occurrence</em>
data. In Living Atlases like the Atlas of Living Australia (ALA), this
is the default type of data stored.</p>
<p>Using occurrence-based datasets assume that all observations are
independent of each other. The benefit of this assumption is that
observational data can remain simple in structure - every observation is
made at a specific place and time. This simplicity allows all
occurrence-based data to be aggregated and used together.</p>
<p>Let’s see how to build an occurrence-based dataset using
galaxias.</p>
<div class="section level2">
<h2 id="the-dataset">The dataset<a class="anchor" aria-label="anchor" href="#the-dataset"></a>
</h2>
<p>Let’s use an small example dataset of bird observations taken from 4
different site locations. This dataset has many different types of data
like landscape type and age class. Importantly for standardising to
Darwin Core, this dataset contains the scientific name
(<code>species</code>), coordinate location (<code>lat</code> &amp;
<code>lon</code>) and date of observation (<code>date</code>).</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://galaxias.ala.org.au">galaxias</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://readxl.tidyverse.org" class="external-link">readxl</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">obs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readxl.tidyverse.org/reference/read_excel.html" class="external-link">read_xlsx</a></span><span class="op">(</span><span class="st">"dummy-dataset-sb.xlsx"</span>,</span>
<span>                 sheet <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">janitor</span><span class="fu">::</span><span class="fu"><a href="https://sfirke.github.io/janitor/reference/clean_names.html" class="external-link">clean_names</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">obs</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">gt</span><span class="fu">::</span><span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">gt</span><span class="fu">::</span><span class="fu"><a href="https://gt.rstudio.com/reference/opt_interactive.html" class="external-link">opt_interactive</a></span><span class="op">(</span>page_size_default <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<div id="mwlefoodfi" class=".gt_table" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#mwlefoodfi table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#mwlefoodfi thead, #mwlefoodfi tbody, #mwlefoodfi tfoot, #mwlefoodfi tr, #mwlefoodfi td, #mwlefoodfi th {
  border-style: none;
}

#mwlefoodfi p {
  margin: 0;
  padding: 0;
}

#mwlefoodfi .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#mwlefoodfi .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#mwlefoodfi .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#mwlefoodfi .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#mwlefoodfi .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mwlefoodfi .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mwlefoodfi .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mwlefoodfi .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#mwlefoodfi .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#mwlefoodfi .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#mwlefoodfi .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#mwlefoodfi .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#mwlefoodfi .gt_spanner_row {
  border-bottom-style: hidden;
}

#mwlefoodfi .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#mwlefoodfi .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#mwlefoodfi .gt_from_md > :first-child {
  margin-top: 0;
}

#mwlefoodfi .gt_from_md > :last-child {
  margin-bottom: 0;
}

#mwlefoodfi .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#mwlefoodfi .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#mwlefoodfi .gt_row_group_first td {
  border-top-width: 2px;
}

#mwlefoodfi .gt_row_group_first th {
  border-top-width: 2px;
}

#mwlefoodfi .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#mwlefoodfi .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#mwlefoodfi .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mwlefoodfi .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#mwlefoodfi .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#mwlefoodfi .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#mwlefoodfi .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mwlefoodfi .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mwlefoodfi .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mwlefoodfi .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_left {
  text-align: left;
}

#mwlefoodfi .gt_center {
  text-align: center;
}

#mwlefoodfi .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#mwlefoodfi .gt_font_normal {
  font-weight: normal;
}

#mwlefoodfi .gt_font_bold {
  font-weight: bold;
}

#mwlefoodfi .gt_font_italic {
  font-style: italic;
}

#mwlefoodfi .gt_super {
  font-size: 65%;
}

#mwlefoodfi .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#mwlefoodfi .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#mwlefoodfi .gt_indent_1 {
  text-indent: 5px;
}

#mwlefoodfi .gt_indent_2 {
  text-indent: 10px;
}

#mwlefoodfi .gt_indent_3 {
  text-indent: 15px;
}

#mwlefoodfi .gt_indent_4 {
  text-indent: 20px;
}

#mwlefoodfi .gt_indent_5 {
  text-indent: 25px;
}

#mwlefoodfi .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#mwlefoodfi div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<div id="mwlefoodfi" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="mwlefoodfi">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"landscape":["KKNP","KKNP","KKNP","KKNP","KKNP","KKNP","PRSP","PRSP","PRSP","PRSP","PRSP","PRSP","MBRP","MBRP","MBRP","MBRP","RSNC","RSNC","RSNC","RSNC"],"site":["KKNP-01","KKNP-01","KKNP-02","KKNP-02","KKNP-03","KKNP-03","PRSP-01","PRSP-01","PRSP-02","PRSP-02","PRSP-03","PRSP-03","MBRP-01","MBRP-01","MBRP-02","MBRP-02","RSNC-01","RSNC-01","RSNC-02","RSNC-02"],"date":["2008-02-05T00:00:00Z","2008-08-22T00:00:00Z","2008-02-05T00:00:00Z","2008-08-22T00:00:00Z","2008-02-06T00:00:00Z","2008-08-22T00:00:00Z","2008-08-21T00:00:00Z","2008-02-06T00:00:00Z","2008-02-06T00:00:00Z","2008-02-06T00:00:00Z","2008-02-05T00:00:00Z","2008-02-06T00:00:00Z","2008-02-06T00:00:00Z","2008-02-06T00:00:00Z","2008-02-06T00:00:00Z","2008-08-22T00:00:00Z","2008-08-21T00:00:00Z","2008-02-06T00:00:00Z","2008-02-06T00:00:00Z","2008-02-06T00:00:00Z"],"species":["Climacteris picumnus","Climacteris picumnus","Climacteris picumnus","Climacteris picumnus","Artamus cyanopterus","Acanthiza lineata","Artamus cyanopterus","Acanthiza reguloides","Malurus cyaneus","Malurus cyaneus","Acanthiza reguloides","Acanthiza lineata","Ptilotula fusca","Ptilotula fusca","Melithreptus brevirostris","Melithreptus brevirostris","Malurus cyaneus","Ptilotula fusca","Pardalotus punctatus","Pardalotus punctatus"],"lat":[-36.8675362264472,-36.8777668754608,-36.8501615830513,-36.8525310851436,-36.8811653450491,-36.8912225552657,-37.0692007059069,-37.0770075937647,-37.0847109714953,-37.087244355769,-37.1049414487726,-37.1085009061024,-37.0696629783545,-37.0704890691019,-37.06709048265,-37.0677796289795,-37.1775541820532,-37.1622339334012,-37.2326540206329,-37.2867575930277],"lon":[143.258585925926,143.254637714374,143.293905254121,143.313388819823,143.306694026994,143.311886783492,143.690593236511,143.693082326403,143.701536649314,143.696343892816,143.691580289605,143.689777845201,143.720473045002,143.721127503982,143.725064986763,143.727296584597,144.070257231299,144.063390776426,144.046911286452,144.066480682841],"comments":["secondaries worn",null,null,null,"heavy parasite load","heavy parasite load",null,null,null,null,null,null,null,null,null,null,null,null,null,null],"species_code":["BTC","BTC","BTC","BTC","DWS","STT","DWS","BRT","SFW","SFW","BRT","STT","FHE","FHE","BHE","BHE","SFW","FHE","SPP","SPP"],"sex":["F","F","F","F","?","M","?","M","M","M","M","F","?","?","?","?","F","?","F","F"],"age_class":["Ad","J","J","Ad","Ad","J","J","J","J","Ad","Ad","Ad","Ad","Ad","Ad","Ad","Ad","J","Ad","Ad"],"sample_id":["SB01","SB02","SB03","SB04","SB05","SB06","SB07","SB08","SB09","SB10","SB11","SB12","SB13","SB14","SB15","SB16","SB17","SB18","SB19","SB20"],"molecular_sex":["F","F","F","F","M","M","F","M","M","M","M","F","F","M","F","M","F","M","F","F"]},"columns":[{"id":"landscape","name":"landscape","type":"character","na":"NA","minWidth":125,"style":"function(rowInfo, colInfo) {\nconst rowIndex = rowInfo.index + 1\n}","html":true,"align":"left"},{"id":"site","name":"site","type":"character","na":"NA","minWidth":125,"style":"function(rowInfo, colInfo) {\nconst rowIndex = rowInfo.index + 1\n}","html":true,"align":"left"},{"id":"date","name":"date","type":"Date","na":"NA","minWidth":125,"style":"function(rowInfo, colInfo) {\nconst rowIndex = rowInfo.index + 1\n}","html":true,"align":"right"},{"id":"species","name":"species","type":"character","na":"NA","minWidth":125,"style":"function(rowInfo, colInfo) {\nconst rowIndex = rowInfo.index + 1\n}","html":true,"align":"left"},{"id":"lat","name":"lat","type":"numeric","na":"NA","minWidth":125,"style":"function(rowInfo, colInfo) {\nconst rowIndex = rowInfo.index + 1\n}","html":true,"align":"right"},{"id":"lon","name":"lon","type":"numeric","na":"NA","minWidth":125,"style":"function(rowInfo, colInfo) {\nconst rowIndex = rowInfo.index + 1\n}","html":true,"align":"right"},{"id":"comments","name":"comments","type":"character","na":"NA","minWidth":125,"style":"function(rowInfo, colInfo) {\nconst rowIndex = rowInfo.index + 1\n}","html":true,"align":"left"},{"id":"species_code","name":"species_code","type":"character","na":"NA","minWidth":125,"style":"function(rowInfo, colInfo) {\nconst rowIndex = rowInfo.index + 1\n}","html":true,"align":"left"},{"id":"sex","name":"sex","type":"character","na":"NA","minWidth":125,"style":"function(rowInfo, colInfo) {\nconst rowIndex = rowInfo.index + 1\n}","html":true,"align":"left"},{"id":"age_class","name":"age_class","type":"character","na":"NA","minWidth":125,"style":"function(rowInfo, colInfo) {\nconst rowIndex = rowInfo.index + 1\n}","html":true,"align":"left"},{"id":"sample_id","name":"sample_id","type":"character","na":"NA","minWidth":125,"style":"function(rowInfo, colInfo) {\nconst rowIndex = rowInfo.index + 1\n}","html":true,"align":"left"},{"id":"molecular_sex","name":"molecular_sex","type":"character","na":"NA","minWidth":125,"style":"function(rowInfo, colInfo) {\nconst rowIndex = rowInfo.index + 1\n}","html":true,"align":"left"}],"defaultPageSize":5,"showPageSizeOptions":false,"pageSizeOptions":[10,25,50,100],"paginationType":"numbers","showPagination":true,"showPageInfo":true,"minRows":1,"height":"auto","theme":{"color":"#333333","backgroundColor":"#FFFFFF","stripedColor":"rgba(128,128,128,0.05)","style":{"font-family":"system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif","fontSize":"16px"},"tableStyle":{"borderTopStyle":"solid","borderTopWidth":"2px","borderTopColor":"#D3D3D3"},"headerStyle":{"fontWeight":"normal","backgroundColor":"transparent","borderBottomStyle":"solid","borderBottomWidth":"2px","borderBottomColor":"#D3D3D3"},"groupHeaderStyle":{"fontWeight":"normal","backgroundColor":"transparent","borderBottomStyle":"solid","borderBottomWidth":"2px","borderBottomColor":"#D3D3D3"},"cellStyle":{"fontWeight":"normal"}},"elementId":"mwlefoodfi","dataKey":"83691be099dda86016f05d036526d8c6"},"children":[]},"class":"reactR_markup"},"evals":["tag.attribs.columns.0.style","tag.attribs.columns.1.style","tag.attribs.columns.2.style","tag.attribs.columns.3.style","tag.attribs.columns.4.style","tag.attribs.columns.5.style","tag.attribs.columns.6.style","tag.attribs.columns.7.style","tag.attribs.columns.8.style","tag.attribs.columns.9.style","tag.attribs.columns.10.style","tag.attribs.columns.11.style"],"jsHooks":[]}</script>
</div>
</div>
<div class="section level2">
<h2 id="standardise-to-darwin-core">Standardise to Darwin Core<a class="anchor" aria-label="anchor" href="#standardise-to-darwin-core"></a>
</h2>
<p>To determine what we need to do to standardise our dataset, let’s use
<code><a href="https://corella.ala.org.au/reference/suggest_workflow.html" class="external-link">suggest_workflow()</a></code>. The output tells us we have one
matching Darwin Core term in our data already (<code>sex</code>), but we
are missing all minimum required Darwin Core terms.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">obs</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://corella.ala.org.au/reference/suggest_workflow.html" class="external-link">suggest_workflow</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Matching Darwin Core terms</span> <span style="color: #00BBBB;">──────────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; Matched 1 of 12 column names to DwC terms:</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Matched: <span style="color: #00BB00;">sex</span></span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> Unmatched: <span style="color: #BB0000;">age_class, comments, date, landscape, lat, lon, molecular_sex,</span></span></span>
<span><span class="co">#&gt;   <span style="color: #BB0000;">sample_id, site, species, species_code</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Minimum required Darwin Core terms</span> <span style="color: #00BBBB;">──────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   <span style="color: #0000BB;">Type</span>                      <span style="color: #0000BB;">Matched term(s)</span>  <span style="color: #0000BB;">Missing term(s)</span>                                                                </span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> Identifier (at least one) <span style="color: #00BB00;">-               </span> <span style="color: #BB0000;">occurrenceID, catalogNumber, recordNumber</span>                                       </span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> Record type               <span style="color: #00BB00;">-               </span> <span style="color: #BB0000;">basisOfRecord</span>                                                                   </span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> Scientific name           <span style="color: #00BB00;">-               </span> <span style="color: #BB0000;">scientificName</span>                                                                  </span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> Location                  <span style="color: #00BB00;">-               </span> <span style="color: #BB0000;">decimalLatitude, decimalLongitude, geodeticDatum, coordinateUncertaintyInMeters</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> Date/Time                 <span style="color: #00BB00;">-               </span> <span style="color: #BB0000;">eventDate</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Suggested workflow</span> <span style="color: #00BBBB;">──────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-style: italic;">#&gt; To make your data Darwin Core compliant, use the following workflow:</span></span></span>
<span><span class="co"><span style="font-style: italic;">#&gt; </span></span></span>
<span><span class="co">#&gt; df |&gt;</span></span>
<span><span class="co">#&gt;   set_occurrences() |&gt;</span></span>
<span><span class="co">#&gt;   set_datetime() |&gt;</span></span>
<span><span class="co">#&gt;   set_coordinates() |&gt;</span></span>
<span><span class="co">#&gt;   set_scientific_name()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── <span style="color: #555555;">Additional functions</span></span></span>
<span><span class="co">#&gt; Based on your matched terms, you can also add to your pipe:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> `set_individual_traits()`</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> <span style="color: #555555;">See all `set_` functions at</span></span></span>
<span><span class="co">#&gt;   <span style="color: #555555;">http://corella.ala.org.au/reference/index.html#add-rename-or-edit-columns-to-match-darwin-core-terms</span></span></span></code></pre></div>
<p>Under “Suggest workflow”, the output above suggests a series of piped
<code>set_</code> functions that we can use to rename, modify or add
columns that are missing from <code>obs</code> but required by Darwin
Core. <code>set_</code> functions are specialised wrappers around
<code><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">dplyr::mutate()</a></code>, with additional functionality to support
using Darwin Core Standard.</p>
<p>For simplicity, let’s do the easy part first of renaming columns we
already have in our dataset to use accepted standard Darwin Core terms.
<code>set_</code> functions will automatically check to make sure each
column is correctly formatted. We’ll save our modified dataframe as
<code>obs_dwc</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">obs_dwc</span> <span class="op">&lt;-</span> <span class="va">obs</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://corella.ala.org.au/reference/set_scientific_name.html" class="external-link">set_scientific_name</a></span><span class="op">(</span>scientificName <span class="op">=</span> <span class="va">species</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://corella.ala.org.au/reference/set_coordinates.html" class="external-link">set_coordinates</a></span><span class="op">(</span>decimalLatitude <span class="op">=</span> <span class="va">lat</span>,</span>
<span>                  decimalLongitude <span class="op">=</span> <span class="va">lon</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://corella.ala.org.au/reference/set_datetime.html" class="external-link">set_datetime</a></span><span class="op">(</span>eventDate <span class="op">=</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="va">date</span><span class="op">)</span><span class="op">)</span> <span class="co"># specify year-month-day format</span></span>
<span><span class="co">#&gt; ⠙ Checking 1 column: <span style="color: #00BB00;">scientificName</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Checking 1 column: <span style="color: #00BB00;">scientificName</span> <span style="color: #B2B2B2;">[319ms]</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ⠙ Checking 2 columns: <span style="color: #00BB00;">decimalLatitude</span> and <span style="color: #00BB00;">decimalLongitude</span></span></span>
<span><span class="co">#&gt; ⠹ Checking 2 columns: <span style="color: #00BB00;">decimalLatitude</span> and <span style="color: #00BB00;">decimalLongitude</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Checking 2 columns: <span style="color: #00BB00;">decimalLatitude</span> and <span style="color: #00BB00;">decimalLongitude</span> <span style="color: #B2B2B2;">[634ms]</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ⠙ Checking 1 column: <span style="color: #00BB00;">eventDate</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Checking 1 column: <span style="color: #00BB00;">eventDate</span> <span style="color: #B2B2B2;">[310ms]</span></span></span>
<span><span class="co">#&gt; </span></span></code></pre></div>
<p>Running <code><a href="https://corella.ala.org.au/reference/suggest_workflow.html" class="external-link">suggest_workflow()</a></code> again will reflect our
progress and show us what’s left to do. Now the output tells us that we
still need to add several columns to our dataset to meet minimum Darwin
Core requirements.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">obs_dwc</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://corella.ala.org.au/reference/suggest_workflow.html" class="external-link">suggest_workflow</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Matching Darwin Core terms</span> <span style="color: #00BBBB;">──────────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; Matched 5 of 12 column names to DwC terms:</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Matched: <span style="color: #00BB00;">decimalLatitude, decimalLongitude, eventDate, scientificName, sex</span></span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> Unmatched: <span style="color: #BB0000;">age_class, comments, landscape, molecular_sex, sample_id, site,</span></span></span>
<span><span class="co">#&gt;   <span style="color: #BB0000;">species_code</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Minimum required Darwin Core terms</span> <span style="color: #00BBBB;">──────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   <span style="color: #0000BB;">Type</span>                      <span style="color: #0000BB;">Matched term(s)</span>                  <span style="color: #0000BB;">Missing term(s)</span>                            </span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Scientific name           <span style="color: #00BB00;">scientificName</span>                   <span style="color: #BB0000;">-               </span>                            </span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Date/Time                 <span style="color: #00BB00;">eventDate</span>                        <span style="color: #BB0000;">-               </span>                            </span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> Identifier (at least one) <span style="color: #00BB00;">-               </span>                 <span style="color: #BB0000;">occurrenceID, catalogNumber, recordNumber</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> Record type               <span style="color: #00BB00;">-               </span>                 <span style="color: #BB0000;">basisOfRecord</span>                               </span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> Location                  <span style="color: #00BB00;">decimalLatitude decimalLongitude</span> <span style="color: #BB0000;">geodeticDatum coordinateUncertaintyInMeters</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Suggested workflow</span> <span style="color: #00BBBB;">──────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-style: italic;">#&gt; To make your data Darwin Core compliant, use the following workflow:</span></span></span>
<span><span class="co"><span style="font-style: italic;">#&gt; </span></span></span>
<span><span class="co">#&gt; df |&gt;</span></span>
<span><span class="co">#&gt;   set_occurrences() |&gt;</span></span>
<span><span class="co">#&gt;   set_coordinates()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── <span style="color: #555555;">Additional functions</span></span></span>
<span><span class="co">#&gt; Based on your matched terms, you can also add to your pipe:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> `set_individual_traits()`</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> <span style="color: #555555;">See all `set_` functions at</span></span></span>
<span><span class="co">#&gt;   <span style="color: #555555;">http://corella.ala.org.au/reference/index.html#add-rename-or-edit-columns-to-match-darwin-core-terms</span></span></span></code></pre></div>
<p>Here’s a rundown of the columns we need to add:</p>
<ul>
<li>
<code>occurrenceID</code>: Unique identifiers of each record. This
ensures that we can identify the specific record for any future updates
or corrections. We can use <code><a href="https://corella.ala.org.au/reference/identifier_functions.html" class="external-link">composite_id()</a></code>,
<code><a href="https://corella.ala.org.au/reference/identifier_functions.html" class="external-link">sequential_id()</a></code> or <code><a href="https://corella.ala.org.au/reference/identifier_functions.html" class="external-link">random_id()</a></code> to add a unique
IDs to each row.</li>
<li>
<code>basisOfRecord</code>: The type of record (e.g. human
observation, specimen, machine observation). See a list of acceptable
values with <code><a href="https://corella.ala.org.au/reference/accepted_values.html" class="external-link">corella::basisOfRecord_values()</a></code>.</li>
<li>
<code>geodeticDatum</code>: The Coordinate Reference System (CRS)
projection of your data (for example, the CRS of Google Maps is
“WGS84”).</li>
<li>
<code>coordinateUncertaintyInMeters</code>: The area of uncertainty
around your observation. You may know this value based on your method of
data collection</li>
</ul>
<!-- or you can use `with_uncertainty()` to provide a default value based on the method used --><p>Now let’s add these columns using <code><a href="https://corella.ala.org.au/reference/set_occurrences.html" class="external-link">set_occurrences()</a></code> and
<code><a href="https://corella.ala.org.au/reference/set_coordinates.html" class="external-link">set_coordinates()</a></code>. We can also add the suggested function
<code><a href="https://corella.ala.org.au/reference/set_individual_traits.html" class="external-link">set_individual_traits()</a></code> which will automatically identify
the matched column name <code>sex</code> and check the column’s
format.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">obs_dwc</span> <span class="op">&lt;-</span> <span class="va">obs_dwc</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://corella.ala.org.au/reference/set_occurrences.html" class="external-link">set_occurrences</a></span><span class="op">(</span></span>
<span>    occurrenceID <span class="op">=</span> <span class="fu"><a href="https://corella.ala.org.au/reference/identifier_functions.html" class="external-link">composite_id</a></span><span class="op">(</span><span class="fu"><a href="https://corella.ala.org.au/reference/identifier_functions.html" class="external-link">sequential_id</a></span><span class="op">(</span><span class="op">)</span>, <span class="va">site</span>, <span class="va">landscape</span><span class="op">)</span>,</span>
<span>    basisOfRecord <span class="op">=</span> <span class="st">"humanObservation"</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://corella.ala.org.au/reference/set_coordinates.html" class="external-link">set_coordinates</a></span><span class="op">(</span></span>
<span>    geodeticDatum <span class="op">=</span> <span class="st">"WGS84"</span>,</span>
<span>    coordinateUncertaintyInMeters <span class="op">=</span> <span class="fl">30</span></span>
<span>    <span class="co"># coordinateUncertaintyInMeters = with_uncertainty(method = "phone")</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://corella.ala.org.au/reference/set_individual_traits.html" class="external-link">set_individual_traits</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; ⠙ Checking 2 columns: <span style="color: #00BB00;">occurrenceID</span> and <span style="color: #00BB00;">basisOfRecord</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Checking 2 columns: <span style="color: #00BB00;">occurrenceID</span> and <span style="color: #00BB00;">basisOfRecord</span> <span style="color: #B2B2B2;">[618ms]</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ⠙ Checking 4 columns: <span style="color: #00BB00;">decimalLatitude</span>, <span style="color: #00BB00;">decimalLongitude</span>, <span style="color: #00BB00;">coordinateUncertaintyI</span>…</span></span>
<span><span class="co">#&gt; ⠹ Checking 4 columns: <span style="color: #00BB00;">decimalLatitude</span>, <span style="color: #00BB00;">decimalLongitude</span>, <span style="color: #00BB00;">coordinateUncertaintyI</span>…</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Checking 4 columns: <span style="color: #00BB00;">decimalLatitude</span>, <span style="color: #00BB00;">decimalLongitude</span>, <span style="color: #00BB00;">coordinateUncertaintyI</span>…</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ⠙ Checking 1 column: <span style="color: #00BB00;">sex</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Checking 1 column: <span style="color: #00BB00;">sex</span> <span style="color: #B2B2B2;">[311ms]</span></span></span>
<span><span class="co">#&gt; </span></span></code></pre></div>
<p>Running <code><a href="https://corella.ala.org.au/reference/suggest_workflow.html" class="external-link">suggest_workflow()</a></code> once more will confirm that
our dataset is ready to be used in a Darwin Core Archive!</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">obs_dwc</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://corella.ala.org.au/reference/suggest_workflow.html" class="external-link">suggest_workflow</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Matching Darwin Core terms</span> <span style="color: #00BBBB;">──────────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; Matched 9 of 16 column names to DwC terms:</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Matched: <span style="color: #00BB00;">basisOfRecord, coordinateUncertaintyInMeters, decimalLatitude,</span></span></span>
<span><span class="co">#&gt;   <span style="color: #00BB00;">decimalLongitude, eventDate, geodeticDatum, occurrenceID, scientificName, sex</span></span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> Unmatched: <span style="color: #BB0000;">age_class, comments, landscape, molecular_sex, sample_id, site,</span></span></span>
<span><span class="co">#&gt;   <span style="color: #BB0000;">species_code</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Minimum required Darwin Core terms</span> <span style="color: #00BBBB;">──────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   <span style="color: #0000BB;">Type</span>                      <span style="color: #0000BB;">Matched term(s)</span>                                                                 <span style="color: #0000BB;">Missing term(s)</span> </span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Identifier (at least one) <span style="color: #00BB00;">occurrenceID</span>                                                                    <span style="color: #BB0000;">-               </span> </span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Record type               <span style="color: #00BB00;">basisOfRecord</span>                                                                   <span style="color: #BB0000;">-               </span> </span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Scientific name           <span style="color: #00BB00;">scientificName</span>                                                                  <span style="color: #BB0000;">-               </span> </span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Location                  <span style="color: #00BB00;">decimalLatitude, decimalLongitude, geodeticDatum, coordinateUncertaintyInMeters</span> <span style="color: #BB0000;">-               </span> </span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Date/Time                 <span style="color: #00BB00;">eventDate</span>                                                                       <span style="color: #BB0000;">-               </span> </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; 🥇 <span style="color: #00BB00;">All minimum column requirements met!</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Suggested workflow</span> <span style="color: #00BBBB;">──────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; 🥇 <span style="color: #00BB00;">Your dataframe is Darwin Core compliant!</span></span></span>
<span><span class="co">#&gt; Run checks, or use your dataframe to build a Darwin Core Archive with <span style="color: #0000BB;">galaxias</span>:</span></span>
<span><span class="co">#&gt; df |&gt;</span></span>
<span><span class="co">#&gt;   check_dataset()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── <span style="color: #555555;">Additional functions</span></span></span>
<span><span class="co">#&gt; Based on your matched terms, you can also add to your pipe:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> `set_individual_traits()`</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> <span style="color: #555555;">See all `set_` functions at</span></span></span>
<span><span class="co">#&gt;   <span style="color: #555555;">http://corella.ala.org.au/reference/index.html#add-rename-or-edit-columns-to-match-darwin-core-terms</span></span></span></code></pre></div>
<p>To submit our dataset, let’s select columns with valid occurrence
term names and save this dataframe to the file
<code>occurrences.csv</code>. Importantly, we will save our csv in a
folder called <code>data-processed</code>, which galaxias looks for
automatically when building a Darwin Core Archive.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">obs_dwc</span> <span class="op">&lt;-</span> <span class="va">obs_dwc</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">any_of</a></span><span class="op">(</span><span class="fu"><a href="https://corella.ala.org.au/reference/accepted_terms.html" class="external-link">occurrence_terms</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="co"># select any matching terms</span></span>
<span></span>
<span><span class="va">obs_dwc</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">gt</span><span class="fu">::</span><span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">gt</span><span class="fu">::</span><span class="fu"><a href="https://gt.rstudio.com/reference/opt_interactive.html" class="external-link">opt_interactive</a></span><span class="op">(</span>page_size_default <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<div id="xombwkkeul" class=".gt_table" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#xombwkkeul table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#xombwkkeul thead, #xombwkkeul tbody, #xombwkkeul tfoot, #xombwkkeul tr, #xombwkkeul td, #xombwkkeul th {
  border-style: none;
}

#xombwkkeul p {
  margin: 0;
  padding: 0;
}

#xombwkkeul .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#xombwkkeul .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#xombwkkeul .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#xombwkkeul .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#xombwkkeul .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xombwkkeul .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xombwkkeul .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xombwkkeul .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#xombwkkeul .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#xombwkkeul .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#xombwkkeul .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#xombwkkeul .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#xombwkkeul .gt_spanner_row {
  border-bottom-style: hidden;
}

#xombwkkeul .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#xombwkkeul .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#xombwkkeul .gt_from_md > :first-child {
  margin-top: 0;
}

#xombwkkeul .gt_from_md > :last-child {
  margin-bottom: 0;
}

#xombwkkeul .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#xombwkkeul .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#xombwkkeul .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#xombwkkeul .gt_row_group_first td {
  border-top-width: 2px;
}

#xombwkkeul .gt_row_group_first th {
  border-top-width: 2px;
}

#xombwkkeul .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xombwkkeul .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#xombwkkeul .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#xombwkkeul .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xombwkkeul .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xombwkkeul .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#xombwkkeul .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#xombwkkeul .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#xombwkkeul .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xombwkkeul .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xombwkkeul .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#xombwkkeul .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xombwkkeul .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#xombwkkeul .gt_left {
  text-align: left;
}

#xombwkkeul .gt_center {
  text-align: center;
}

#xombwkkeul .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#xombwkkeul .gt_font_normal {
  font-weight: normal;
}

#xombwkkeul .gt_font_bold {
  font-weight: bold;
}

#xombwkkeul .gt_font_italic {
  font-style: italic;
}

#xombwkkeul .gt_super {
  font-size: 65%;
}

#xombwkkeul .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#xombwkkeul .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#xombwkkeul .gt_indent_1 {
  text-indent: 5px;
}

#xombwkkeul .gt_indent_2 {
  text-indent: 10px;
}

#xombwkkeul .gt_indent_3 {
  text-indent: 15px;
}

#xombwkkeul .gt_indent_4 {
  text-indent: 20px;
}

#xombwkkeul .gt_indent_5 {
  text-indent: 25px;
}

#xombwkkeul .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#xombwkkeul div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<div id="xombwkkeul" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="xombwkkeul">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"basisOfRecord":["humanObservation","humanObservation","humanObservation","humanObservation","humanObservation","humanObservation","humanObservation","humanObservation","humanObservation","humanObservation","humanObservation","humanObservation","humanObservation","humanObservation","humanObservation","humanObservation","humanObservation","humanObservation","humanObservation","humanObservation"],"occurrenceID":["001-KKNP-01-KKNP","002-KKNP-01-KKNP","003-KKNP-02-KKNP","004-KKNP-02-KKNP","005-KKNP-03-KKNP","006-KKNP-03-KKNP","007-PRSP-01-PRSP","008-PRSP-01-PRSP","009-PRSP-02-PRSP","010-PRSP-02-PRSP","011-PRSP-03-PRSP","012-PRSP-03-PRSP","013-MBRP-01-MBRP","014-MBRP-01-MBRP","015-MBRP-02-MBRP","016-MBRP-02-MBRP","017-RSNC-01-RSNC","018-RSNC-01-RSNC","019-RSNC-02-RSNC","020-RSNC-02-RSNC"],"sex":["F","F","F","F","?","M","?","M","M","M","M","F","?","?","?","?","F","?","F","F"],"eventDate":["2008-02-05","2008-08-22","2008-02-05","2008-08-22","2008-02-06","2008-08-22","2008-08-21","2008-02-06","2008-02-06","2008-02-06","2008-02-05","2008-02-06","2008-02-06","2008-02-06","2008-02-06","2008-08-22","2008-08-21","2008-02-06","2008-02-06","2008-02-06"],"decimalLatitude":[-36.8675362264472,-36.8777668754608,-36.8501615830513,-36.8525310851436,-36.8811653450491,-36.8912225552657,-37.0692007059069,-37.0770075937647,-37.0847109714953,-37.087244355769,-37.1049414487726,-37.1085009061024,-37.0696629783545,-37.0704890691019,-37.06709048265,-37.0677796289795,-37.1775541820532,-37.1622339334012,-37.2326540206329,-37.2867575930277],"decimalLongitude":[143.258585925926,143.254637714374,143.293905254121,143.313388819823,143.306694026994,143.311886783492,143.690593236511,143.693082326403,143.701536649314,143.696343892816,143.691580289605,143.689777845201,143.720473045002,143.721127503982,143.725064986763,143.727296584597,144.070257231299,144.063390776426,144.046911286452,144.066480682841],"geodeticDatum":["WGS84","WGS84","WGS84","WGS84","WGS84","WGS84","WGS84","WGS84","WGS84","WGS84","WGS84","WGS84","WGS84","WGS84","WGS84","WGS84","WGS84","WGS84","WGS84","WGS84"],"coordinateUncertaintyInMeters":[30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30],"scientificName":["Climacteris picumnus","Climacteris picumnus","Climacteris picumnus","Climacteris picumnus","Artamus cyanopterus","Acanthiza lineata","Artamus cyanopterus","Acanthiza reguloides","Malurus cyaneus","Malurus cyaneus","Acanthiza reguloides","Acanthiza lineata","Ptilotula fusca","Ptilotula fusca","Melithreptus brevirostris","Melithreptus brevirostris","Malurus cyaneus","Ptilotula fusca","Pardalotus punctatus","Pardalotus punctatus"]},"columns":[{"id":"basisOfRecord","name":"basisOfRecord","type":"character","na":"NA","minWidth":125,"style":"function(rowInfo, colInfo) {\nconst rowIndex = rowInfo.index + 1\n}","html":true,"align":"left"},{"id":"occurrenceID","name":"occurrenceID","type":"character","na":"NA","minWidth":125,"style":"function(rowInfo, colInfo) {\nconst rowIndex = rowInfo.index + 1\n}","html":true,"align":"left"},{"id":"sex","name":"sex","type":"character","na":"NA","minWidth":125,"style":"function(rowInfo, colInfo) {\nconst rowIndex = rowInfo.index + 1\n}","html":true,"align":"left"},{"id":"eventDate","name":"eventDate","type":"Date","na":"NA","minWidth":125,"style":"function(rowInfo, colInfo) {\nconst rowIndex = rowInfo.index + 1\n}","html":true,"align":"right"},{"id":"decimalLatitude","name":"decimalLatitude","type":"numeric","na":"NA","minWidth":125,"style":"function(rowInfo, colInfo) {\nconst rowIndex = rowInfo.index + 1\n}","html":true,"align":"right"},{"id":"decimalLongitude","name":"decimalLongitude","type":"numeric","na":"NA","minWidth":125,"style":"function(rowInfo, colInfo) {\nconst rowIndex = rowInfo.index + 1\n}","html":true,"align":"right"},{"id":"geodeticDatum","name":"geodeticDatum","type":"character","na":"NA","minWidth":125,"style":"function(rowInfo, colInfo) {\nconst rowIndex = rowInfo.index + 1\n}","html":true,"align":"left"},{"id":"coordinateUncertaintyInMeters","name":"coordinateUncertaintyInMeters","type":"numeric","na":"NA","minWidth":125,"style":"function(rowInfo, colInfo) {\nconst rowIndex = rowInfo.index + 1\n}","html":true,"align":"right"},{"id":"scientificName","name":"scientificName","type":"character","na":"NA","minWidth":125,"style":"function(rowInfo, colInfo) {\nconst rowIndex = rowInfo.index + 1\n}","html":true,"align":"left"}],"defaultPageSize":5,"showPageSizeOptions":false,"pageSizeOptions":[10,25,50,100],"paginationType":"numbers","showPagination":true,"showPageInfo":true,"minRows":1,"height":"auto","theme":{"color":"#333333","backgroundColor":"#FFFFFF","stripedColor":"rgba(128,128,128,0.05)","style":{"font-family":"system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif","fontSize":"16px"},"tableStyle":{"borderTopStyle":"solid","borderTopWidth":"2px","borderTopColor":"#D3D3D3"},"headerStyle":{"fontWeight":"normal","backgroundColor":"transparent","borderBottomStyle":"solid","borderBottomWidth":"2px","borderBottomColor":"#D3D3D3"},"groupHeaderStyle":{"fontWeight":"normal","backgroundColor":"transparent","borderBottomStyle":"solid","borderBottomWidth":"2px","borderBottomColor":"#D3D3D3"},"cellStyle":{"fontWeight":"normal"}},"elementId":"xombwkkeul","dataKey":"dbf86a638f973daf70d5fdef5ea8a705"},"children":[]},"class":"reactR_markup"},"evals":["tag.attribs.columns.0.style","tag.attribs.columns.1.style","tag.attribs.columns.2.style","tag.attribs.columns.3.style","tag.attribs.columns.4.style","tag.attribs.columns.5.style","tag.attribs.columns.6.style","tag.attribs.columns.7.style","tag.attribs.columns.8.style"],"jsHooks":[]}</script>
</div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Save in ./data-processed</span></span>
<span><span class="fu">write_csv</span><span class="op">(</span><span class="va">obs_dwc</span>, file <span class="op">=</span> <span class="st">"./data-processed/occurrences.csv"</span><span class="op">)</span></span></code></pre></div>
<p>All done! See the <a href="quick_start_guide.html">Quick start guide
vignette</a> for how to build a Darwin Core Archive.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Martin Westgate, Shandiya Balasubramaniam, Dax Kellie.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
